function oninitgenerate(){}function onshowgenerate(){var t=getBG();document.getElementById("advanced")&&(document.getElementById("advanced").checked=parseInt(t.lpGetPref("generate_advanced",0))),document.getElementById("length").value=parseInt(t.lpGetPref("generate_length",12)),document.getElementById("upper").checked=parseInt(t.lpGetPref("generate_upper",1)),document.getElementById("lower").checked=parseInt(t.lpGetPref("generate_lower",1)),document.getElementById("digits").checked=parseInt(t.lpGetPref("generate_digits",1)),document.getElementById("special").checked=parseInt(t.lpGetPref("generate_special",0)),document.getElementById("mindigits").value=parseInt(t.lpGetPref("generate_mindigits",1)),document.getElementById("ambig").checked=parseInt(t.lpGetPref("generate_ambig",0)),document.getElementById("reqevery").checked=parseInt(t.lpGetPref("generate_reqevery",1)),document.getElementById("pronounceable").checked=parseInt(t.lpGetPref("generate_pronounceable",0)),document.getElementById("advanced")&&0==document.getElementById("advanced").checked&&(document.getElementById("advancedoptions").style.display="none"),pwUpkeep(),t.g_checkgeneratepasswordcallback=function(){g_generate_found=!0,sr(document,"generatesave","value","Accept"),document.getElementById("lp_docwrite_popover18")&&set_innertext(document.getElementById("lp_docwrite_popover18"),gs("Accept")),sr(document,"generateclose","value","Cancel")},g_ischrome&&t.get_selected_tab(null,function(e){""==g_generate_url&&(g_generate_url=t.gettaburl(e),fix_length(document)),g_tabid=g_tabid||e.id,t.sendCS(g_tabid,{cmd:"checkgeneratepassword"})}),fix_length(document)}function onhidegenerate(){var e=getBG();document.getElementById("advanced")&&e.lpPutUserPref("generate_advanced",document.getElementById("advanced").checked?1:0),e.lpPutUserPref("generate_length",document.getElementById("length").value),e.lpPutUserPref("generate_upper",document.getElementById("upper").checked?1:0),e.lpPutUserPref("generate_lower",document.getElementById("lower").checked?1:0),e.lpPutUserPref("generate_digits",document.getElementById("digits").checked?1:0),e.lpPutUserPref("generate_special",document.getElementById("special").checked?1:0),e.lpPutUserPref("generate_mindigits",document.getElementById("mindigits").value),e.lpPutUserPref("generate_ambig",document.getElementById("ambig").checked?1:0),e.lpPutUserPref("generate_reqevery",document.getElementById("reqevery").checked?1:0),e.lpPutUserPref("generate_pronounceable",document.getElementById("pronounceable").checked?1:0),e.lpWriteAllPrefs()}function fix_length(e,t){if("undefined"!=typeof g_isie&&g_isie&&(g_generate_url=ie_gettopurl()),"string"==typeof g_generate_url&&""!=g_generate_url){if("undefined"!=typeof g_isie&&g_isie)var n=get_sitepwlen(lp_gettld_url(g_generate_url));else var n=getBG().get_sitepwlen(lp_gettld_url(g_generate_url));n>e.getElementById("length").value&&(e.getElementById("length").value=n,t||dogenerate())}else"undefined"!=typeof g_sitepwlen_override&&(g_sitepwlen_override>e.getElementById("length").value&&(e.getElementById("length").value=g_sitepwlen_override),t||dogenerate())}function dogenerate(){fix_length(document,!0);var e=document.getElementById("length").value;100<e&&(e=document.getElementById("length").value=100);var t=document.getElementById("upper").checked,n=document.getElementById("lower").checked,d=document.getElementById("digits").checked,o=document.getElementById("special").checked,r=document.getElementById("mindigits").value,c=document.getElementById("ambig").checked,g=document.getElementById("reqevery").checked,a=document.getElementById("pronounceable").checked;document.getElementById("password").style.fontFamily="Monaco,Consolas,Courier",document.getElementById("password").value=lpCreatePass(e,t,n,d,o,r,c,g,a),getBG().g_genpws.unshift(document.getElementById("password").value),20<getBG().g_genpws.length&&getBG().g_genpws.splice(20,getBG().g_genpws.length-20),repopulate_combo("password",getBG().g_genpws),document.getElementById("page_passwordmeterback")&&update_password_meter("",document.getElementById("password").value),LP_decimate_children(document.getElementById("copypwbutton"));var l=document.createElement("i");set_innertext(l,gs("Copy Password")),document.getElementById("copypwbutton").appendChild(l),document.getElementById("copypwbutton").style.color="#d32d27",getBG().can_copy_to_clipboard()||(document.getElementById("copypwbutton").style.display="none")}function docopypw(){var e=getBG(),t=document.getElementById("password").value;set_innertext(document.getElementById("copypwbutton"),"âœ“ "+gs("Password Copied")),document.getElementById("copypwbutton").style.color="#000000",document.getElementById("password").select(),"undefined"==typeof g_generate_found&&(g_generate_found=!1),g_generate_found||(e&&e.sendLpImprove&&e.sendLpImprove("genpassword",{action:"copypassword"},!0),"function"==typeof e.copytoclipboard?e.copytoclipboard(t):Clipboard.copy(t))}function dosave(e){var t=getBG(),n=document.getElementById("password").value,d={pronounceable:"on"===document.getElementById("pronounceable").checked,length:document.getElementById("length").checked,uppercase:"on"===document.getElementById("upper").checked,lowercase:"on"===document.getElementById("lower").checked,numeric:"on"===document.getElementById("digits").checked,special:"on"===document.getElementById("special").checked,avoidAmbiguous:"on"===document.getElementById("ambig").checked,source:"form"};"undefined"==typeof g_generate_found&&(g_generate_found=!1),g_generate_found||("function"==typeof t.copytoclipboard?t.copytoclipboard(n):Clipboard.copy(n)),""==g_generate_url&&(g_generate_url=t.getcurrenturl()),t.savePassword(n,g_generate_url,g_tabid,!g_generate_found,d),e?setTimeout(function(){getBG().closePop()},0):"undefined"!=typeof g_ismenu&&g_ismenu?setTimeout(function(){window.close()},0):setTimeout(function(){getBG().closecurrenttab("")},0)}function ensureuppersinpw(e){for(var t=GPW.pronounceable(e),n=0;n<e&&t[n];){var d,o,r;t=t.substr(0,n)+(get_random(0,1)?t[n].toUpperCase():t[n])+t.substr(n+1),n++}return t}function lpCreatePass(e,t,n,d,o,r,c,g,a,l){void 0===e&&(e=8+get_random(0,1)),void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===d&&(d=!0),void 0===o&&(o=!1),void 0===r&&(r=0),void 0===c&&(c=!1),void 0===g&&(g=!0);var u=0,p=0,m=0;if(t&&(p=1),n&&(u=1),o&&(m=1),a){for(var s="";s.length<e;)s=t?ensureuppersinpw(e):GPW.pronounceable(e);return 0===u?s.toUpperCase():s}var i=new Array;if(n&&0<u)for(var _=0;_<u;_++)i[i.length]="L";if(t&&0<p)for(var _=0;_<p;_++)i[i.length]="U";if(d&&0<r)for(var _=0;_<r;_++)i[i.length]="D";if(o&&0<m)for(var _=0;_<m;_++)i[i.length]="S";for(;i.length<e;)i[i.length]="A";i.sort(function(){return 2*get_random(0,1)-1});var y="",f="abcdefghjkmnpqrstuvwxyz";c||(f+="ilo"),n&&(y+=f);var v="ABCDEFGHJKMNPQRSTUVWXYZ";c||(v+="ILO"),t&&(y+=v);var B="23456789";c||(B+="10"),d&&(y+=B);var I="!@#$%^&*";o&&(y+=I);for(var h="",E=0;E<e;E++){var w;switch(i[E]){case"L":w=f;break;case"U":w=v;break;case"D":w=B;break;case"S":w=I;break;case"A":w=y}var _=get_random(0,w.length-1);h+=w.charAt(_)}return h}function showhideadv(){var e=document.getElementById("advancedoptions");e.style.display="none"==e.style.display?"block":"none"}function resize_generate(){}