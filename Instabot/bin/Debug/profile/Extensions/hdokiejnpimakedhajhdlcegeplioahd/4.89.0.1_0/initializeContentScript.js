var bg,csTop;(function(){"use strict";var e=[],t=!1,n=function(t){e.push(t)},c=function(){n=function(t){t()},e.forEach(n),Topics.get(Topics.INITIALIZED).publish(),"function"!=typeof webclientInit||t||(t=!0,webclientInit(bg))};LPPlatform.requestFramework=new LPBackgroundRequester(LPPlatform.requestFrameworkInitializer,{mainRequestFramework:window===top,interfaceDefinition:Interfaces.ContentScriptInterface,interfaceName:"ContentScriptInterface"});var r={};bg=Interfaces.createInstance(Interfaces.BackgroundInterface,{direct:!1,context:"contentScript",source:r,asyncOnly:!0,requestFunction:function(t){LPPlatform.requestFramework.sendRequest({type:"backgroundRequest",data:t})}}),window===top?csTop=Interfaces.createInstance(Interfaces.ContentScriptInterface,{context:"contentScript",direct:!0,source:this}):Topics.get(Topics.REQUEST_FRAMEWORK_INITIALIZED).subscribe(function(t){var e=parseInt(t.topFrameID);csTop=Interfaces.createInstance(Interfaces.ContentScriptInterface,{direct:!1,context:"contentScript",requestFunction:function(t){LPPlatform.requestFramework.sendRequest({type:"contentScriptRequest",data:t,frameID:e})}})});var o=function(){bg.LPData.getData({context:"contentScript",callback:function(t){for(var e in t)r[e]=t[e];c()}})};Topics.get(Topics.LOGIN).subscribe(function(t){o()}),o()}).call(this);