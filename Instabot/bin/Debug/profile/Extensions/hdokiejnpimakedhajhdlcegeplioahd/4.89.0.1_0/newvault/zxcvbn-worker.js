try{if("function"==typeof importScripts){try{var baseUrl=location.pathname.slice(0,-26);importScripts(baseUrl+"/zxcvbn.js"),importScripts(baseUrl+"/sjcl.js"),importScripts(baseUrl+"/sha256.js")}catch(x){try{importScripts("/zxcvbn.js"),importScripts("/sjcl.js"),importScripts("/sha256.js")}catch(x){importScripts("/js-thirdparty/zxcvbn.js"),importScripts("/js/sjcl/sjcl.js"),importScripts("/js/sha256.js")}}var startTime;function calculateStrength(x,e){if("undefined"==typeof zxcvbn)return console.error("No zxcvbn functionality available"),void sendPostMessage();var a=x?x.substring(0,50):"",s=e?e.substring(0,50).toLowerCase():"",o;return zxcvbn(a,[s,"lastpass","lastpass.com"]).score}function challengegetstrength(x,e){return 25*calculateStrength(e,x)}function challengecomputescore_async(x,e,a,s,o,n,r,t,i,d,c,l,h,v,g,u,p,f,m,_,w,y,S,b,P,O,M,j,k,T,U,A,N,D,E,R){function z(){postMessage({cmd:"report",runtimesec:void 0!==nx?nx:void 0,calcTimeMs:void 0!==startTime?(new Date).getTime()-startTime:void 0,g_totalscore:void 0!==e?e:void 0,g_aSites:void 0!==s?s:void 0,g_numsites:void 0!==o?o:0,g_numblanksites:void 0!==n?n:0,g_avgpasswordlength:void 0!==r?r:0,g_avgstrength:"undefined"!=typeof g_avgstrength?g_avgstrength:0,g_aPasswords:void 0!==t?t:{},g_MAXNUMCOMPUTESCORE:void 0!==i?i:0,g_numduppasswords:void 0!==d?d:0,g_numdupsites:void 0!==c?c:0,g_usernames:void 0!==l?l:[],WEAKPASSWORDSCORE:void 0!==h?h:50,g_strengthscore:void 0!==v?v:0,g_countscore:void 0!==g?g:0,g_numweak:void 0!==u?u:0,sharedavgstrength:void 0!==p?p:[],SharedAccounts:void 0!==f?f:[],g_runtimems:void 0!==m?m:0,sfcounts:void 0!==_?_:[],sharedstrengthscore:void 0!==w?w:[],sharedblanksites:void 0!==y?y:[],sharedweak:void 0!==S?S:[],sharedavgpasswordlength:void 0!==b?b:[],SharedPasswords:void 0!==P?P:[],sharedcountscore:void 0!==O?O:[],NonSharedAccounts:void 0!==M?M:[],g_SFNames:void 0!==j?j:[],AllSFNames:void 0!==k?k:[],sharedtotalscore:void 0!==T?T:[],g_numvulnerablesites:void 0!==U?U:0,g_allPasswords:void 0!==A?A:{},g_reuse:void 0!==N?N:void 0,g_blanksites:void 0!==D?D:void 0,g_allnumduppasswords:void 0!==E?E:0})}if(0!==e)return z(),void console.log("Not processing security score");var C,F=0,L,W,K,X,J,Z,q,W,K,X,J,Z,q;for(R=void 0===R?{}:R,void 0!==s[C=void 0===x?0:x]&&void 0!==s[C].sfname&&(L=s[C].sfname),void 0===L&&(L="nonshared"),void 0===_&&(_=[]),void 0===w&&(w=[]),void 0===y&&(y=[]),void 0===S&&(S=[]),void 0===b&&(b=[]),void 0===P&&(P=[]),void 0===O&&(O=[]),void 0===M&&(M=[]),void 0===j&&(j=[]),void 0===k&&(k=[]),void 0===_[L]&&(_[L]=0),_[L]++,void 0===x&&(g_challengeregexcache=[]);C<o;++C){if("function"==typeof reportprogress&&reportprogress(C,o),L="nonshared",void 0!==s[C].sfname)var L=s[C].sfname;var B=s[C].usernamedec,G=s[C].passworddec;G=G||"";var H=s[C].passworddecfix,I=s[C].domain2lvl,Q=void 0!==s[C].realdomain2lvl?s[C].realdomain2lvl:I,V=void 0!==s[C].vulnerable;void 0===n&&(n=0),void 0===U&&(U=0),void 0===y[L]&&(y[L]=0),void 0===w[L]&&(w[L]=0);var Y="function"==typeof get_sitepwlen?get_sitepwlen(Q):1;if(V?(console.log("challengecomputescore_async : Found vulnerable site domain2lvl="+I+" sfname="+L),"nonshared"==L&&++U,s[C].challenge_score=0):0<G.length&&G.length<Y?s[C].challenge_score=0:s[C].challenge_score=challengegetstrength(B,G),""!=H){if("nonshared"==L&&(r+=G.length),void 0===b[L]&&(b[L]=0),b[L]+=G.length,void 0===P[L]&&(P[L]=[]),"nonshared"==L){void 0===t[H]&&(t[H]=[]),(void 0===t[H][I]||"function"==typeof t[H][I]&&void 0===t[H][I].push)&&(t[H][I]=[]);try{t[H][I].push(C)}catch(x){return void(H=G=B="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx")}}void 0===A&&(A=[]),void 0===A[H]&&(A[H]=[],R[H]=[]),(void 0===A[H][I]||"function"==typeof A[H][I]&&void 0===A[H][I].push)&&(A[H][I]=[],R[H][I]={users:[],hasDifferentUser:!1});try{A[H][I].push(C),R[H][I].hasDifferentUser||R[H][I].users.forEach(function(x){x===B||(R[H][I].hasDifferentUser=!0)}),R[H][I].users.push(B)}catch(x){return void(H=G=B="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx")}if("nonshared"!=L){void 0===P[L][H]&&(P[L][H]=[]),(void 0===P[L][H][I]||"function"==typeof P[L][H][I]&&void 0===P[L][H][I].push)&&(P[L][H][I]=[]);try{P[L][H][I].push(C)}catch(x){return void(H=G=B="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx")}}if(++F>i){var $=null;try{"function"==typeof setTimeout?$=setTimeout:"undefined"!=typeof LP&&void 0!==LP.mostRecent&&void 0!==LP.mostRecent().setTimeout&&($=LP.mostRecent().setTimeout)}catch(x){}var xx=0;return $(function(){if(999<s.length){var x=Number(((C+1)/s.length*100).toFixed(2));Math.floor(x)==Math.ceil(x)&&console.log(x+"% score calculation done")}challengecomputescore_async(C+1,e,a,s,o,n,r,t,i,d,c,l,h,v,g,u,p,f,m,_,w,y,S,b,P,O,M,j,k,T,U,A,N,D,E,R)},0),void(H=G=B="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx")}H=G=B="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"}else"nonshared"==L&&n++,y[L]++,void 0!==D&&D.push(C),H=G=B="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"}for(q in g_challengeregexcache=[],r=o==n?0:Math.round(10*r/(o-n))/10,t)if(Z=0,t.hasOwnProperty(q)){K=t[q];var ex=!1;for(var ax in K)R[q][ax].hasDifferentUser&&(ex=!0),K.hasOwnProperty(ax)&&Z++;if(1==Z&&!ex||""==q){if(void 0!==N)for(var sx in t[q])for(var ox in t[q][sx])delete N[t[q][sx][ox]];delete t[q]}else{for(var ax in++d,J=0,K)K.hasOwnProperty(ax)&&(J+=t[q][ax].length);for(var ax in c+=J,K)if(K.hasOwnProperty(ax))for(W in X=t[q][ax])X.hasOwnProperty(W)&&(C=t[q][ax][W],s[C].challenge_numduplicates=J,s[C].challenge_duplicatescore=s[C].challenge_score/Z)}}for(q in q="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",void 0===A&&(A={},g_allnumdupsites=o),A)if(A.hasOwnProperty(q)){K=A[q],Z=0;var ex=!1;for(var ax in K)R[q][ax].hasDifferentUser&&(ex=!0),K.hasOwnProperty(ax)&&++Z;if(1==Z&&!ex||""==q)delete A[q];else{for(var ax in void 0===E&&(E=0),++E,J=0,"undefined"==typeof g_allnumdupsites&&(g_allnumdupsites=0),K)K.hasOwnProperty(ax)&&(J+=A[q][ax].length);for(var ax in g_allnumdupsites+=J,K)if(K.hasOwnProperty(ax))for(var W in X=A[q][ax])X.hasOwnProperty(W)&&(C=A[q][ax][W],void 0!==s[C]&&(s[C].challenge_numduplicates=J,s[C].challenge_duplicatescore=s[C].challenge_score/Z))}}for(q="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",C=0;C<s.length;++C)void 0!==s[C].sfname&&(L=s[C].sfname),void 0===s[C].sfname&&(L="nonshared"),void 0===S[L]&&(S[L]=0),s[C].challenge_scorefinal=s[C].challenge_score,!s[C].usernamedec||-1===s[C].usernamedec.indexOf("@")||s[C].usernamedec in l||(l[s[C].usernamedec]=[],l[s[C].usernamedec].hash=lp_sha2lib.sha256(s[C].usernamedec),l[s[C].usernamedec].link=s[C].link),void 0===s[C].challenge_dictionary||void 0===s[C].challenge_duplicatescore?void 0===s[C].challenge_dictionary?void 0===s[C].challenge_duplicatescore?(s[C].challenge_score<h&&""!=s[C].passworddecfix&&("nonshared"==L&&++u,"nonshared"!=L&&++S[L]),"nonshared"==L&&(v+=s[C].challenge_score,g_avgstrength=o==n?0:Math.round(10*v/(o-n))/10,0!=M.length&&(g_avgstrength=M.length==n?0:Math.round(10*v/(M.length-n))/10)),"nonshared"!=L&&(w[L]+=s[C].challenge_score,p[L]=_[L]==y[L]?0:Math.round(10*w[L]/(f[L].length-y[L]))/10),void 0===O[L]&&(O[L]=0),70<=s[C].challenge_score&&void 0===s[C].sfname&&(g+=2),70<=s[C].challenge_score&&void 0!==s[C].sfname&&(O[L]+=2)):(s[C].challenge_scorefinal=s[C].challenge_duplicatescore,void 0===s[C].sfname&&(v+=s[C].challenge_duplicatescore),void 0!==s[C].sfname&&(w[L]+=s[C].challenge_duplicatescore)):(s[C].challenge_scorefinal=.5*s[C].challenge_scorefinal,"nonshared"==L&&++u,"nonshared"!=L&&++S[L]):(s[C].challenge_scorefinal=.5*s[C].challenge_duplicatescore,"nonshared"==L&&++u,"nonshared"!=L&&++S[L]);100<g&&(g=100),100<O[L]&&(O[L]=100),void 0!==M&&0!=M.length&&(o=M.length),0<o-n&&(e=Math.round(10*(v/(o-n)*.8+g/10))/10);for(var C=0;C<k.length;C++)L=k[C],void 0===f[L]&&(f[L]=[]),void 0===y[L]&&(y[L]=0),0<f[L].length-y[L]&&(T[L]=Math.round(10*(w[L]/(f[L].length-y[L])*.8+O[L]/10))/10);100<e&&(e=100),m=(new Date).getTime()-m;var nx=Math.round(m/1e3);z()}onmessage=function(x){"zxcvbn"===x.data.source&&"challengecomputescore_async"===x.data.cmd&&(startTime=(new Date).getTime(),challengecomputescore_async(x.data.curr,x.data.g_totalscore,JSON.parse(x.data.g_sites),x.data.g_aSites,x.data.g_numsites,x.data.g_numblanksites,x.data.g_avgpasswordlength,x.data.g_aPasswords,x.data.g_MAXNUMCOMPUTESCORE,x.data.g_numduppasswords,x.data.g_numdupsites,x.data.g_usernames,x.data.WEAKPASSWORDSCORE,x.data.g_strengthscore,x.data.g_countscore,x.data.g_numweak,x.data.sharedavgstrength,x.data.SharedAccounts,x.data.g_runtimems,x.data.sfcounts,x.data.sharedstrengthscore,x.data.sharedblanksites,x.data.sharedweak,x.data.sharedavgpasswordlength,x.data.SharedPasswords,x.data.sharedcountscore,x.data.NonSharedAccounts,x.data.g_SFNames,x.data.AllSFNames,x.data.sharedtotalscore,x.data.g_numvulnerablesites,x.data.g_allPasswords,x.data.g_reuse,x.data.g_blanksites,x.data.g_allnumduppasswords,{}))}}else console.info("Zxcvbn-Worker initial phase done")}catch(x){console.error("inside-zxcvbn-worker",x)}