!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=214)}({10:function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var u=t[o](i),a=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(a).then(function(e){r("next",e)},function(e){r("throw",e)});e(a)}return r("next")})}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){return new Promise(function(t,n){chrome.storage.local.get(e,function(r){return chrome.runtime.lastError?n(chrome.runtime.lastError):r[e]?void t(JSON.parse(r[e])):t()})})}function u(e,t){return new Promise(function(n,r){chrome.storage.local.set(o({},e,JSON.stringify(t)),function(e){if(chrome.runtime.lastError)return r(chrome.runtime.lastError);n()})})}function a(e,t){var n=Object.assign({},e);return Object.keys(e).map(function(e){return n[e]=t(n[e])}),n}function c(e){return new Promise(function(t,n){chrome.storage.local.set(a(e,JSON.stringify),function(e){if(chrome.runtime.lastError)return n(chrome.runtime.lastError);t()})})}function s(e){return new Promise(function(t,n){chrome.storage.local.remove(e,function(e){if(chrome.runtime.lastError)return n(chrome.runtime.lastError);t()})})}function f(e,t){return new Promise(function(n,r){chrome.storage.sync.get(e,function(o){return chrome.runtime.lastError?r(chrome.runtime.lastError):o[e]?void n(JSON.parse(o[e])):t?n(t):n()})})}function l(e,t){return new Promise(function(n,r){chrome.storage.sync.set(o({},e,JSON.stringify(t)),function(){if(chrome.runtime.lastError)return r(chrome.runtime.lastError);n()})})}n.d(t,"a",function(){return m}),n.d(t,"l",function(){return v}),n.d(t,"b",function(){return g}),n.d(t,"h",function(){return w}),n.d(t,"i",function(){return b}),n.d(t,"g",function(){return y}),n.d(t,"k",function(){return x}),n.d(t,"f",function(){return k}),n.d(t,"j",function(){return _}),n.d(t,"e",function(){return j}),n.d(t,"d",function(){return P}),n.d(t,"c",function(){return O}),t.m=i,t.q=u,t.p=c,t.o=s,t.n=f,t.r=l;var d=n(4),p=n.n(d),h=n(6),m="smallpdf.jobResult.tab",v="smallpdf.websync.lastSync",g="smallpdf.localEvents",w="smallpdf.user.favorites",b="smallpdf.user.localToken",y="smallpdf.user.countryGeoIP",x="smallpdf.user.profile",k="smallpdf.user.ap",_="smallpdf.user.persistedFiles",j="smallpdf.user.rt",P="smallpdf.options.googleSerpEnabled",O="smallpdf.options.betaEnabled";!function(){var e=r(p.a.mark(function e(){var t,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Object(h.a)(),e.next=4,u("smallpdf.storageProbe",t);case 4:return e.next=6,i("smallpdf.storageProbe");case 6:return n=e.sent,e.abrupt("return",n===t);case 10:e.prev=10,e.t0=e.catch(0);case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}},e,this,[[0,10]])}))}()},104:function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var u=t[o](i),a=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(a).then(function(e){r("next",e)},function(e){r("throw",e)});e(a)}return r("next")})}}function o(e){switch(e){case f:a.c(s+"/blog/how-to-use-smallpdf-chrome-extension",!0)}}n.d(t,"b",function(){return p}),t.a=o;var i=n(4),u=n.n(i),a=n(22),c=function(){var e=r(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.conditions.map(function(e){return e(t)}));case 2:return n=e.sent,e.abrupt("return",!n.includes(!1));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),s="https://smallpdf.com",f="generic_teaser",l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4;return new Promise(function(t){return setTimeout(t,e)})},d=[],p=function(){var e=r(u.a.mark(function e(){var t=this;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,l(3e5);case 3:d.forEach(function(){var e=r(u.a.mark(function e(n){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(n);case 2:r=e.sent,r&&n.createNotification(n);case 4:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()),e.next=0;break;case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},105:function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var u=t[o](i),a=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(a).then(function(e){r("next",e)},function(e){r("throw",e)});e(a)}return r("next")})}}function o(e){return new Promise(function(t){setTimeout(function(){t(!0)},e)})}n.d(t,"b",function(){return w}),n.d(t,"a",function(){return b});var i=n(4),u=n.n(i),a=n(63),c=n(10),s=n(22),f=n(7),l=n(8),d=n(14),p=function(){var e=r(u.a.mark(function e(){var t,n,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.d)();case 2:if(!(t=e.sent)){e.next=7;break}return e.next=6,c.o(m);case 6:return e.abrupt("return");case 7:if(!(o&&o.title&&o.message&&o.group)){e.next=11;break}g(v,o),e.next=16;break;case 11:return e.next=13,c.m(m);case 13:n=e.sent,r=n.notification,r&&r.title&&r.message&&r.group&&g(v,r);case 16:return e.next=18,c.o(m);case 18:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),h=function(){var e=r(u.a.mark(function e(){var t,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.m(m);case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return");case 5:n=Date.now(),t&&t.showOnDate>n&&b(t),t&&t.showOnDate<=n&&p();case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),m="limitation-notification",v="limitation",g=function(e,t){a.b(e,t,function(){f.b(l.f(v)),s.c("https://smallpdf.com",!0)}),f.b(l.h(v))},w=function(){var e=r(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:h();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),b=function(){var e=r(u.a.mark(function e(t){var n,r,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return n=t.showOnDate,r={group:v,title:t.title,message:t.message},e.next=6,c.q(m,{showOnDate:n,notification:r});case 6:return i=new Date(n).getTime()-Date.now(),e.next=9,o(i);case 9:p(r),f.b(l.g(v));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},118:function(e,t,n){"use strict";function r(e,t,n){switch(console.log("Extension Message: ",{message:e,sender:t}),e.request){case m:c.c(e.url);break;case v:chrome.runtime.openOptionsPage();break;case g:chrome.tabs.create({windowId:t.tab.windowId,index:t.tab.index+1,url:"chrome://extensions/?id="+chrome.runtime.id,openerTabId:t.tab.id});break;case w:u.a(e.event);break;case b:f.c({jobID:e.jobID||Object(h.a)(),toolKey:e.toolKey,fileURL:e.fileURL,fileName:e.fileName,sendResponse:n});break;case y:f.b({jobID:e.jobID||Object(h.a)(),fileHandle:e.fileHandle,sendResponse:n});break;case x:f.a({jobID:e.jobID||Object(h.a)(),fileToken:e.fileToken,fileName:e.fileName,referrer:e.referrer,tool:e.tool,sendResponse:n});break;case j:l.a({jobID:e.jobID||Object(h.a)(),task:e.task,sendResponse:n});break;case k:chrome.extension.isAllowedFileSchemeAccess(function(e){return n(e)});break;case _:Object(p.a)(e.enabled)}return!0}function o(e,t,n){switch(console.log("Website Message: ",e),e.request){case P:n({type:"success",version:chrome.runtime.getManifest().version});break;case O:a.a(e,n);break;case S:s.a(!e.failed,t.tab);break;case E:d.a(e)}}function i(){chrome.runtime.sendMessage({request:g})}t.b=r,t.a=o,t.c=i;var u=n(7),a=n(14),c=n(22),s=n(95),f=n(119),l=n(120),d=n(105),p=n(121),h=n(6),m="open-tab",v="open-options-page",g="open-extension-settings-page",w="sendAnalyticsEvent",b="upload-file",y="upload-file-handle",x="persist-file",k="check-file-scheme",_="beta-enabled-changed",j="submit-task",P="version",O="favorites",S="result-notification",E="limitation-notification"},119:function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var u=t[o](i),a=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(a).then(function(e){r("next",e)},function(e){r("throw",e)});e(a)}return r("next")})}}n.d(t,"c",function(){return p}),n.d(t,"b",function(){return h}),n.d(t,"a",function(){return m});var i=n(4),u=n.n(i),a=n(52),c=n(24),s=n(7),f=n(22),l=n(8),d=n(6),p=function(){var e=o(u.a.mark(function e(t){var n,r,o,i,p,h,m,v,g,w,b,y,x;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.jobID,r=t.toolKey,o=t.fileURL,i=t.fileName,p=t.sendResponse,e.prev=1,e.next=4,c.c(o);case 4:return h=e.sent,m=i||c.e(o),v=Object(d.a)(),g=c.d(m),w=v+"."+(g||"pdf"),e.next=11,a.c(w);case 11:return b=e.sent,e.next=14,f.b();case 14:return y=e.sent,e.next=17,a.e(b,h,function(e){y&&chrome.tabs.sendMessage(y.id,{jobID:n,status:"upload-progress",value:e})});case 17:x=a.a(r,m,w),f.c(x),p({jobID:n,status:"done"}),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(1),s.c(l.v(r)),p({jobID:n,status:"failed"});case 26:case"end":return e.stop()}},e,this,[[1,22]])}));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=o(u.a.mark(function e(t){var n,r,o,i,s,l,p,h,m;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.jobID,r=t.fileHandle,o=t.sendResponse,i=c.a(r.data,r.type),s=Object(d.a)(),l=c.d(r.name),p=s+"."+(l||"pdf"),e.next=7,a.c(p);case 7:return h=e.sent,e.next=10,f.b();case 10:return m=e.sent,e.next=13,a.e(h,i,function(e){m&&chrome.tabs.sendMessage(m.id,{jobID:n,status:"upload-progress",value:e})});case 13:o({jobID:n,fileToken:p});case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=o(u.a.mark(function e(t){var n,o=t.jobID,i=t.sendResponse,c=r(t,["jobID","sendResponse"]);return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.b(c);case 3:n=e.sent,i(Object.assign({jobID:o,status:"done"},n)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i({jobID:o,status:"failed",error:e.t0.message});case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},12:function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var u=t[o](i),a=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(a).then(function(e){r("next",e)},function(e){r("throw",e)});e(a)}return r("next")})}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(){var e=this;if("ohfgljdgelakfkefopgklcohadegdpjf"!==chrome.runtime.id)throw new Error("WebSyncError: Skipped during development");var t=new Promise(function(e,t){return setTimeout(function(){t(new Error("WebSyncError: Cross-document messaging timeout"))},1e3*w)}),n=new Promise(function(t,n){[].concat(o(document.querySelectorAll("iframe"))).map(function(e){return e.remove()});var i=window.document.createElement("iframe"),u=Object(s.a)();i.setAttribute("src",h),i.addEventListener("error",function(e){return console.log("[WebSync] Error: Request failed",e)}),i.addEventListener("load",r(c.a.mark(function r(){var o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=function e(r){if(!r.data||!r.data.id||r.data.id===u){if(console.log("[WebSync] Cross-document respond received"),window.removeEventListener("message",e),i.remove(),r.origin!==m)return n(new Error("WebSyncError: Message received with invalid origin"));if(!r.data)return n(new Error("WebSyncError: No data received"));if(r.data.error)return n(new Error(r.data.error));console.log("[WebSync] Cross-document data received",r.data),t(r.data)}},window.addEventListener("message",o),i.contentWindow.postMessage({id:u,type:v},m),console.log("[WebSync] Cross-document data requested, waiting for response...");case 4:case"end":return e.stop()}},r,e)}))),window.document.body.append(i),console.log("[WebSync] Iframe created, loading "+h+"...")});return Promise.race([t,n])}function u(){var e=24*g*60;chrome.alarms.create(d.a,{periodInMinutes:e})}n.d(t,"c",function(){return b}),t.a=u,n.d(t,"b",function(){return y});var a=n(4),c=n.n(a),s=n(6),f=n(10),l=n(14),d=n(23),p=function(){var e=r(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),h="https://smallpdf.com/connect-chrome-extension",m="https://smallpdf.com",v="GET_USER_DATA",g=2,w=60,b=function(){var e=r(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("[WebSync] Sync started with website..."),e.next=3,i();case 3:return t=e.sent,console.log("[WebSync] Saving user info"),e.next=7,l.e(t);case 7:return e.next=9,f.q(f.l,Date.now());case 9:console.log("[WebSync] Sync done");case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),y=function(){var e=r(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,e.t0=!t,!e.t0){e.next=6;break}return e.next=5,p();case 5:e.t0=e.sent;case 6:if(!e.t0){e.next=9;break}return e.next=9,b();case 9:return e.prev=9,e.next=12,l.c();case 12:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}},e,this,[[0,,9,14]])}));return function(t){return e.apply(this,arguments)}}()},120:function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var u=t[o](i),a=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(a).then(function(e){r("next",e)},function(e){r("throw",e)});e(a)}return r("next")})}}n.d(t,"a",function(){return s});var o=n(4),i=n.n(o),u=n(52),a=n(24),c=n(21),s=function(){var e=r(i.a.mark(function e(t){var n,r,o,s,f;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.jobID,r=t.task,o=t.sendResponse,console.log("[Task] Submitted: "+r.taskId+" (job: "+n+")",r),e.prev=2,e.next=5,u.d(r);case 5:if(s=e.sent,f=[],!s.output_files){e.next=11;break}return e.next=10,Promise.all(s.output_files.map(function(e){var t=a.d(e);return{token:e,name:e,type:c.n(t)}}));case 10:f=e.sent;case 11:o({jobID:n,status:"done",taskResponse:s,outputFiles:f}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),o({jobID:n,status:"failed",error:e.t0});case 17:case"end":return e.stop()}},e,this,[[2,14]])}));return function(t){return e.apply(this,arguments)}}()},121:function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var u=t[o](i),a=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(a).then(function(e){r("next",e)},function(e){r("throw",e)});e(a)}return r("next")})}}function o(e){s=e,Object(a.r)(a.c,e)}t.a=o;var i=n(4),u=n.n(i),a=n(10),c=function(){var e=r(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(a.n)(a.c);case 2:t=e.sent,s=Boolean(t);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),s=!1;c()},14:function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var u=t[o](i),a=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(a).then(function(e){r("next",e)},function(e){r("throw",e)});e(a)}return r("next")})}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){return new Promise(function(t){chrome.storage.sync.get([l.h],function(t){var n=t.favorites||{};for(var r in e.favorites)n[r]=Math.max(e.favorites[r],n[r]||0);chrome.storage.sync.set(i({},l.h,n))})})}function a(){return new Promise(function(e){window.chrome.storage.sync.get(l.h,function(t){var n=t[l.h]||{};e(n)})})}t.a=u,t.b=a,n.d(t,"e",function(){return d}),n.d(t,"c",function(){return p}),n.d(t,"d",function(){return h});var c=n(4),s=n.n(c),f=n(6),l=n(10),d=function(){var e=o(s.a.mark(function e(t){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.p((n={},i(n,l.i,t.localToken),i(n,l.g,t.countryGeoIP),i(n,l.k,t.profile),i(n,l.f,t.activePro),i(n,l.e,t.rt),n));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=o(s.a.mark(function e(){var t,n,r,o,i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.m(l.i);case 2:return t=e.sent,e.next=5,l.m(l.g);case 5:return n=e.sent,e.next=8,l.m(l.k);case 8:return r=e.sent,e.next=11,l.m(l.e);case 11:if(o=e.sent,t){e.next=17;break}return console.log("No local-token found and couldn't sync - generating a new one"),t=Object(f.a)(),e.next=17,l.q(l.i,t);case 17:return e.next=19,h();case 19:return i=e.sent,e.abrupt("return",{localToken:t,countryGeoIP:n,profile:r,rt:o,activePro:i});case 21:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),h=function(){var e=o(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.m(l.f);case 2:return t=e.sent,e.abrupt("return",!!t);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),m=function(){var e=o(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.m(l.j);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:return t=e.t0,e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();(function(){var e=o(s.a.mark(function e(t){var n,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object.assign({},t,{time:Date.now()}),e.next=3,m();case 3:return o=e.sent,e.next=6,l.q(l.j,[].concat(r(o),[n]));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)}))})(),function(){var e=o(s.a.mark(function e(t){var n,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:return n=e.sent,r=n.filter(function(e){return e.token!==t}),e.next=6,l.q(l.j,r);case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}))}()},15:function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"e",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"i",function(){return u}),n.d(t,"f",function(){return a}),n.d(t,"l",function(){return c}),n.d(t,"m",function(){return s}),n.d(t,"g",function(){return f}),n.d(t,"b",function(){return l}),n.d(t,"r",function(){return d}),n.d(t,"s",function(){return p}),n.d(t,"v",function(){return h}),n.d(t,"o",function(){return m}),n.d(t,"t",function(){return v}),n.d(t,"h",function(){return g}),n.d(t,"n",function(){return w}),n.d(t,"k",function(){return b}),n.d(t,"p",function(){return y}),n.d(t,"j",function(){return x}),n.d(t,"u",function(){return k}),n.d(t,"q",function(){return _}),n.d(t,"a",function(){return j}),n.d(t,"w",function(){return P}),n.d(t,"x",function(){return O});var r="en",o="es",i="de",u="it",a="fr",c="ms-MY",s="nb",f="hi",l="da",d="sv",p="th",h="vi",m="pl",v="tr",g="id",w="nl",b="ko",y="pt",x="ja",k="uk",_="ru",j="ar",P="zh-Hans",O="zh-Hant"},151:function(e,t,n){"use strict";function r(e){return chrome.extension.getURL(f+"/viewer.html")+"?"+new URLSearchParams({file:e}).toString()}function o(e,t){for(var n=0;n<e.length;++n){var r=e[n];if(r.name.toLowerCase()===t)return r}}function i(e){return/#smallpdfprint$/.test(e.url)}function u(e){if(e.url.includes("pdfjs.action=download"))return!0;var t=e.responseHeaders&&o(e.responseHeaders,"content-disposition");return t&&/^attachment/i.test(t.value)}function a(e){var t=o(e.responseHeaders,"content-type");if(!t)return!1;var n=t.value.toLowerCase().split(";",1)[0].trim();if("application/pdf"===n)return!0;if("application/octet-stream"===n){if(e.url.toLowerCase().indexOf(".pdf")>0)return!0;var r=o(e.responseHeaders,"content-disposition");if(r&&/\.pdf(["']|$)/i.test(r.value))return!0}}function c(e){var t=e.responseHeaders,n=o(t,"content-disposition");if(n||(n={name:"Content-Disposition"},t.push(n)),!/^attachment/i.test(n.value))return n.value="attachment"+n.value.replace(/^[^;]+/i,""),{responseHeaders:t}}function s(e,t){e=e.substring(l.length);var n=e.search(/:|%3A/i);if(-1!==n){var r=e.slice(0,n).toLowerCase();if(t.includes(r))return e=e.split("#")[0],":"===e.charAt(n)&&(e=encodeURIComponent(e)),e}}t.b=r,t.e=i,t.c=u,t.d=a,t.a=c,t.f=s;var f="",l=chrome.extension.getURL("/")},21:function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){switch(e){case d:return"JSON";case p:return"PDF";case h:return"Zip";case m:case v:return l.d("file_type_word");case g:case w:return l.d("file_type_excel");case b:case y:return"PPT";case x:return"JPG";case k:return"GIF";case _:return"BMP";case j:return"PNG";case P:return"TIFF";case O:return"SVG";default:throw new Error("Unknown mime type '"+e+"'")}}function u(e){switch(e){case p:return l.d("file_type_pdf_plural");default:return i(e)}}function a(e){return e?Object.keys(S).find(function(t){return e&&S[t].test(e)})||null:null}function c(e){switch(e){case p:return["pdf"];default:return[]}}function s(e){return e?e.reduce(function(e,t){return[].concat(r(e),[t],r(c(t).map(function(e){return"."+e})))},[]).join(","):""}n.d(t,"c",function(){return p}),n.d(t,"h",function(){return h}),n.d(t,"a",function(){return m}),n.d(t,"b",function(){return v}),n.d(t,"f",function(){return g}),n.d(t,"g",function(){return w}),n.d(t,"d",function(){return b}),n.d(t,"e",function(){return y}),n.d(t,"k",function(){return x}),n.d(t,"j",function(){return k}),n.d(t,"i",function(){return _}),n.d(t,"l",function(){return j}),n.d(t,"m",function(){return P}),t.p=u,t.n=a,t.o=s;var f,l=n(9),d="application/json",p="application/pdf",h="application/zip",m="application/msword",v="application/vnd.openxmlformats-officedocument.wordprocessingml.document",g="application/vnd.ms-excel",w="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",b="application/vnd.ms-powerpoint",y="application/vnd.openxmlformats-officedocument.presentationml.presentation",x="image/jpeg",k="image/gif",_="image/bmp",j="image/png",P="image/tiff",O="image/svg+xml",S=(f={},o(f,d,/json$/i),o(f,p,/pdf$/i),o(f,h,/zip$/i),o(f,m,/doc$/i),o(f,v,/docx$/i),o(f,g,/xls$/i),o(f,w,/xlsx$/i),o(f,b,/ppt$/i),o(f,y,/pptx$/i),o(f,x,/jpe?g$/i),o(f,k,/gif$/i),o(f,_,/bmp$/i),o(f,j,/png$/i),o(f,P,/tiff?$/i),o(f,O,/svg$/i),f)},214:function(e,t,n){e.exports=n(215)},215:function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var u=t[o](i),a=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(a).then(function(e){r("next",e)},function(e){r("throw",e)});e(a)}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),i=n.n(o),u=n(12),a=n(216),c=n(8),s=n(7),f=n(22),l=n(62),d=n(23),p=n(63),h=n(118),m=n(104),v=n(105),g=n(217),w=this;console.log("[Background] Background script started"),chrome.alarms.onAlarm.addListener(d.b),chrome.notifications.onClicked.addListener(p.c),chrome.notifications.onButtonClicked.addListener(p.c),chrome.runtime.onMessage.addListener(h.b),chrome.runtime.onMessageExternal.addListener(h.a),Object(g.b)(),Object(g.a)(),chrome.runtime.onInstalled.addListener(function(){var e=r(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("install"!==t.reason){e.next=16;break}return e.prev=1,e.next=4,u.c();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:return e.prev=9,u.a(),e.finish(9);case 12:return f.c("thanks.html",!0),s.c(c.e()),e.next=16,l.e(l.b());case 16:case"end":return e.stop()}},e,w,[[1,6,9,12]])}));return function(t){return e.apply(this,arguments)}}()),chrome.runtime.onStartup.addListener(function(){u.a()}),chrome.runtime.onInstalled.addListener(function(){chrome.runtime.setUninstallURL(a.a())}),chrome.runtime.onInstalled.addListener(function(){return m.b()}),chrome.runtime.onStartup.addListener(function(){return m.b()}),chrome.runtime.onStartup.addListener(function(){return v.b()})},216:function(e,t,n){"use strict";function r(){var e=o.b();return e===o.a?i+"/page#chrome-extension-feedback":i+"/"+e+"/page#chrome-extension-feedback"}t.a=r;var o=n(9),i="https://smallpdf.com"},217:function(e,t,n){"use strict";var r=n(218);n.d(t,"b",function(){return r.a});var o=n(219);n.d(t,"a",function(){return o.a})},218:function(e,t,n){"use strict";function r(){chrome.webRequest.onBeforeRequest.addListener(function(e){var t=Object(o.f)(e.url,a);if(t){t=i+"?file="+t;var n=e.url.indexOf("#");return n>0&&(t+=e.url.slice(n)),{redirectUrl:t}}},{types:["main_frame","sub_frame"],urls:a.map(function(e){return""+u+e+"*"})},["blocking"]),chrome.tabs.query({url:u+"*:*"},function(e){for(var t=0;t<e.length;++t)chrome.tabs.reload(e[t].id)})}t.a=r;var o=n(151),i=chrome.extension.getURL("/viewer.html"),u=chrome.extension.getURL("/"),a=["http","https","ftp","file","chrome-extension","blob","data","filesystem","drive"]},219:function(e,t,n){"use strict";function r(){chrome.runtime.onUpdateAvailable.addListener(function(){0===chrome.extension.getViews({type:"tab"}).length&&chrome.runtime.reload()}),chrome.webRequest.onHeadersReceived.addListener(function(e){if("GET"===e.method&&Object(i.d)(e)&&!Object(i.e)(e)){if(Object(i.c)(e))return Object(i.a)(e);if(Object(o.a)())return{redirectUrl:Object(i.b)(e.url)}}},{urls:["<all_urls>"],types:["main_frame"]},["blocking","responseHeaders"]),chrome.webRequest.onBeforeRequest.addListener(function(e){if(!Object(i.e)(e)&&!Object(i.c)(e)&&Object(o.a)())return{redirectUrl:Object(i.b)(e.url)}},{urls:["file://*/*.pdf","file://*/*.PDF"],types:["main_frame"]},["blocking"]),chrome.extension.isAllowedFileSchemeAccess(function(e){e||chrome.webNavigation.onBeforeNavigate.addListener(function(e){0!==e.frameId||Object(i.c)(e)||Object(o.a)()&&chrome.tabs.update(e.tabId,{url:Object(i.b)(e.url)})},{url:[{urlPrefix:"file://",pathSuffix:".pdf"},{urlPrefix:"file://",pathSuffix:".PDF"}]})})}t.a=r;var o=n(220),i=n(151)},22:function(e,t,n){"use strict";function r(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={url:e,selected:t};chrome.tabs.create(n,function(e){t&&chrome.windows.update(e.windowId,{focused:!0})})}function o(e){chrome.tabs.update(e.id,{highlighted:!0}),chrome.windows.update(e.windowId,{focused:!0})}function i(){return new Promise(function(e){var t={active:!0,currentWindow:!0};chrome.tabs.query(t,function(t){if(t&&t.length)return void e(t[0]);e(null)})})}t.c=r,t.a=o,t.b=i},220:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){return!1}},23:function(e,t,n){"use strict";function r(e){return Array.isArray(e)?e:Array.from(e)}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var u=t[o](i),a=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(a).then(function(e){r("next",e)},function(e){r("throw",e)});e(a)}return r("next")})}}n.d(t,"a",function(){return c}),n.d(t,"b",function(){return s});var i=n(4),u=n.n(i),a=n(12),c="websync",s=function(){var e=o(u.a.mark(function e(t){var n,o,i,s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.name.split("/"),o=r(n),i=o[0],s=o.slice(1),console.log("[Alarm] Triggered: "+i,s),e.t0=i,e.next=e.t0===c?5:7;break;case 5:return a.c(),e.abrupt("break",7);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},24:function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var u=t[o](i),a=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(a).then(function(e){r("next",e)},function(e){r("throw",e)});e(a)}return r("next")})}}function o(e){return new Promise(function(t,n){var r=new XMLHttpRequest;r.responseType="blob",r.addEventListener("load",function(e){0===e.target.status||e.target.status<400?t(e.target.response):n(new Error(e.target.statusText))}),r.addEventListener("error",function(e){return n(new Error(e.target))}),r.addEventListener("abort",function(){return n()}),r.open("GET",e,!0),r.send()})}function i(e){try{return e.match(/[^/]*$/)[0]}catch(e){return"filename.pdf"}}function u(){return new Promise(function(e,t){chrome.runtime.sendMessage({request:"check-file-scheme"},function(n){if(chrome.runtime.lastError)return t(chrome.runtime.lastError);e(n)})})}function a(e){return e?e.split(".").pop():null}function c(e,t){var n=new Uint8Array(e).buffer,r=new DataView(n);return new Blob([r],{type:t})}t.c=o,t.e=i,t.f=u,t.d=a,t.a=c,n.d(t,"b",function(){return l});var s=n(4),f=n.n(s),l=(function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}}(),function(){var e=r(f.a.mark(function e(t){var n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Response(t).arrayBuffer();case 2:return n=e.sent,e.abrupt("return",Array.from(new Uint8Array(n)));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}())},28:function(e,t,n){var r=function(){return this}()||Function("return this")(),o=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(29),o)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},29:function(e,t){!function(t){"use strict";function n(e,t,n,r){var i=t&&t.prototype instanceof o?t:o,u=Object.create(i.prototype),a=new p(r||[]);return u._invoke=s(e,n,a),u}function r(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function o(){}function i(){}function u(){}function a(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function c(e){function t(n,o,i,u){var a=r(e[n],e,o);if("throw"!==a.type){var c=a.arg,s=c.value;return s&&"object"===typeof s&&w.call(s,"__await")?Promise.resolve(s.__await).then(function(e){t("next",e,i,u)},function(e){t("throw",e,i,u)}):Promise.resolve(s).then(function(e){c.value=e,i(c)},u)}u(a.arg)}function n(e,n){function r(){return new Promise(function(r,o){t(e,n,r,o)})}return o=o?o.then(r,r):r()}var o;this._invoke=n}function s(e,t,n){var o=P;return function(i,u){if(o===S)throw new Error("Generator is already running");if(o===E){if("throw"===i)throw u;return m()}for(n.method=i,n.arg=u;;){var a=n.delegate;if(a){var c=f(a,n);if(c){if(c===L)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===P)throw o=E,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=S;var s=r(e,t,n);if("normal"===s.type){if(o=n.done?E:O,s.arg===L)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=E,n.method="throw",n.arg=s.arg)}}}function f(e,t){var n=e.iterator[t.method];if(n===v){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=v,f(e,t),"throw"===t.method))return L;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return L}var o=r(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,L;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=v),t.delegate=null,L):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,L)}function l(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function d(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function p(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(l,this),this.reset(!0)}function h(e){if(e){var t=e[y];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(w.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=v,t.done=!0,t};return r.next=r}}return{next:m}}function m(){return{value:v,done:!0}}var v,g=Object.prototype,w=g.hasOwnProperty,b="function"===typeof Symbol?Symbol:{},y=b.iterator||"@@iterator",x=b.asyncIterator||"@@asyncIterator",k=b.toStringTag||"@@toStringTag",_="object"===typeof e,j=t.regeneratorRuntime;if(j)return void(_&&(e.exports=j));j=t.regeneratorRuntime=_?e.exports:{},j.wrap=n;var P="suspendedStart",O="suspendedYield",S="executing",E="completed",L={},I={};I[y]=function(){return this};var R=Object.getPrototypeOf,A=R&&R(R(h([])));A&&A!==g&&w.call(A,y)&&(I=A);var D=u.prototype=o.prototype=Object.create(I);i.prototype=D.constructor=u,u.constructor=i,u[k]=i.displayName="GeneratorFunction",j.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===i||"GeneratorFunction"===(t.displayName||t.name))},j.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,k in e||(e[k]="GeneratorFunction")),e.prototype=Object.create(D),e},j.awrap=function(e){return{__await:e}},a(c.prototype),c.prototype[x]=function(){return this},j.AsyncIterator=c,j.async=function(e,t,r,o){var i=new c(n(e,t,r,o));return j.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},a(D),D[k]="Generator",D[y]=function(){return this},D.toString=function(){return"[object Generator]"},j.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},j.values=h,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=v,this.done=!1,this.delegate=null,this.method="next",this.arg=v,this.tryEntries.forEach(d),!e)for(var t in this)"t"===t.charAt(0)&&w.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=v)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=v),!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var u=w.call(o,"catchLoc"),a=w.call(o,"finallyLoc");if(u&&a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&w.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,L):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),L},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),d(n),L}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;d(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:h(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=v),L}}}(function(){return this}()||Function("return this")())},4:function(e,t,n){e.exports=n(28)},52:function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var u=t[o](i),a=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(a).then(function(e){r("next",e)},function(e){r("throw",e)});e(a)}return r("next")})}}function o(e,t){return fetch(e,t).then(function(e){return e.json()})}function i(e,t,n){return new Promise(function(r,o){var i=new XMLHttpRequest;i.responseType="blob",n&&i.upload.addEventListener("progress",function(e){if(e.lengthComputable){var t=Math.ceil(e.loaded/e.total*100);n(t)}}),i.addEventListener("load",function(e){0===e.target.status||e.target.status<400?r(e.target.response):o(new Error(e.target.statusText))}),i.addEventListener("error",function(e){return o(new Error(e.target))}),i.addEventListener("abort",function(){return o()}),i.open("PUT",e,!0),i.send(t)})}function u(e,t,n){return d+"/redirect#"+["a=tool","source=chrome-extension","tool="+e,"file_name="+t,"file_token="+n].join("&")}function a(e,t){return{tool:e.tool,version:e.version,task_id:e.taskId,input_tokens:e.inputTokens,local_token:t.localToken}}n.d(t,"c",function(){return m}),t.e=i,t.a=u,n.d(t,"d",function(){return v}),n.d(t,"b",function(){return g});var c=n(4),s=n.n(c),f=n(12),l=function(){var e=r(s.a.mark(function e(t){var n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e5;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=Date.now();case 1:if(!(Date.now()-n<i)){e.next=11;break}return e.next=4,o(h+"/v1/tasks/"+t);case 4:if((r=e.sent)&&r.success){e.next=7;break}throw new Error("Failed to fetch task");case 7:if(!r.data||!r.data.result){e.next=9;break}return e.abrupt("return",r.data.result);case 9:e.next=1;break;case 11:throw new Error("fetching task timed out");case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),d="https://smallpdf.com",p="https://files.smallpdf.com",h="https://task.smallpdf.com",m=function(){var e=r(s.a.mark(function e(t){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(p+"/upload-url/"+t);case 2:return n=e.sent,e.abrupt("return",n.url);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=r(s.a.mark(function e(t){var n,r,i,u;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.b();case 2:return n=e.sent,r=JSON.stringify(a(t,n)),e.next=6,o(h+"/v1/tasks",{method:"post",body:r});case 6:if(i=e.sent,!i.success){e.next=18;break}return e.prev=8,e.next=11,l(t.taskId);case 11:return u=e.sent,e.abrupt("return",u);case 15:throw e.prev=15,e.t0=e.catch(8),e.t0;case 18:throw new Error("Failed to submit task");case 19:case"end":return e.stop()}},e,this,[[8,15]])}));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=r(s.a.mark(function e(t){var n,r,i,u,a,c=t.fileToken,f=t.fileName,l=t.referrer,d=t.tool;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.stringify({token:c,filename:f,referrer:l,source_tool:d}),e.next=3,o(p+"/long-term-files",{method:"post",body:n});case 3:if((r=e.sent)&&r.success&&r.data){e.next=6;break}throw new Error("Failed to persist file");case 6:return i=r.data,u=i.token,a=i.admin_token,e.abrupt("return",{token:u,adminToken:a});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},6:function(e,t,n){"use strict";function r(e){var t=e?(e.match(/(\.[^\.]+$)/)||[])[1]||"":"";return o()+t}function o(){if(!window.crypto||!window.crypto.getRandomValues)return i();var e=new Uint8Array(16);return window.crypto.getRandomValues(e),[].slice.call(e).map(function(e){var t=e.toString(16);return t.length>1?t:"0"+t}).join("")}function i(){for(var e="",t=0;t<8;t+=1)e+=(65536*(1+Math.random())|0).toString(16).substring(1);return e.toLowerCase()}t.a=r},62:function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var u=t[o](i),a=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(a).then(function(e){r("next",e)},function(e){r("throw",e)});e(a)}return r("next")})}}function i(e,t){return"function"!==typeof t||t(e)}n.d(t,"a",function(){return s}),n.d(t,"b",function(){return f}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return d}),n.d(t,"e",function(){return h});var u=n(4),a=n.n(u),c=n(10),s="popup",f=function(){return{key:"event:extension_installed"}},l=function(e,t){return{key:"event:notification_triggered",metadata:{notificationID:e,notificationGroup:t}}},d=function(e,t){return{key:"event:tool_clicked",metadata:{tool:e,trigger:t}}},p=function(){var e=o(a.a.mark(function e(){var t;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.m(c.b);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:return t=e.t0,e.abrupt("return",t);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),h=function(){var e=o(a.a.mark(function e(t){var n,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object.assign({},t,{time:Date.now()}),console.log("[Local event] "+t.key,n),e.next=4,p();case 4:return o=e.sent,e.next=7,c.q(c.b,[].concat(r(o),[n]));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),m=(function(){var e=o(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:return e.t0=t,e.abrupt("return",e.sent.find(e.t0));case 4:case"end":return e.stop()}},e,this)}))}(),function(){var e=o(a.a.mark(function e(t,n){var r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:return r=e.sent,e.abrupt("return",r.find(function(e){return e.key===t&&i(e,n)}));case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()),v=function(){var e=o(a.a.mark(function e(t,n){var r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:return r=e.sent,e.abrupt("return",r.reverse().find(function(e){return e.key===t&&i(e,n)}));case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=o(a.a.mark(function e(t,n){var r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t,n);case 2:return r=e.sent,e.abrupt("return",!!r);case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}();(function(){var e=o(a.a.mark(function e(t,n){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t,n);case 2:return e.abrupt("return",!e.sent);case 3:case"end":return e.stop()}},e,this)}))})(),function(){var e=o(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t);case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return",-1);case 5:return e.abrupt("return",Date.now()-n.time);case 6:case"end":return e.stop()}},e,this)}))}(),function(){var e=o(a.a.mark(function e(t,n){var r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t,n);case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return",-1);case 5:return e.abrupt("return",Date.now()-r.time);case 6:case"end":return e.stop()}},e,this)}))}()},63:function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var u=t[o](i),a=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(a).then(function(e){r("next",e)},function(e){r("throw",e)});e(a)}return r("next")})}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){var n=t.group,r=o(t,["group"]);f.e(f.c(e,n)),c.c(s.h(e)),chrome.notifications.create(e,Object.assign({},m,r))}n.d(t,"a",function(){return h}),t.b=i,n.d(t,"c",function(){return v});var u=n(4),a=n.n(u),c=n(7),s=n(8),f=n(62),l=n(95),d=n(104),p=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h="jobResult",m={iconUrl:chrome.runtime.getURL("images/smallpdf_48.png"),title:"Smallpdf",type:"basic",message:"",priority:2,requireInteraction:!0},v=function(){var e=r(a.a.mark(function e(t,n){var r,o,i,u;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c.c(s.f(t)),r=t.split("/",2),o=p(r,2),i=o[0],u=o[1],console.log("[Notification] Triggered: "+i,u),e.t0=i,e.next=e.t0===h?6:"onboarding"===e.t0?8:10;break;case 6:return l.b(u,n),e.abrupt("break",10);case 8:return d.a(u,n),e.abrupt("break",10);case 10:chrome.notifications.clear(t);case 11:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},7:function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var u=t[o](i),a=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(a).then(function(e){r("next",e)},function(e){r("throw",e)});e(a)}return r("next")})}}function o(){var e={version:0,major:0,minor:0},t=chrome.app.getDetails()||{},n=t.version;if(n){var r=n.split("."),o=h(r,2),i=o[0],u=o[1];e.version=n,e.major=+i,e.minor=+u}return e}function i(e,t){var n=o(),r=Object(l.c)();return{ts:e.ts,id:e.id,event:e.event,local_token:t.localToken,country_geo_ip:t.countryGeoIP,user_id:t.profile&&t.profile.user_id,active_pro:!!t.activePro,os:y,os_major:void 0,os_minor:void 0,agent:"chrome-extension",agent_major:n.major,agent_minor:n.minor,agent_version:n.version,default_app:void 0,page:null,mode:null,custom_boolean1:e.bool1,custom_int1:e.int1,custom_int2:e.int2,custom_int3:e.int3,custom_string1:e.string1,custom_string2:e.string2,custom_string3:e.string3,browser:void 0,browser_major:void 0,browser_minor:void 0,rt:t.rt,locale:r}}function u(e){return{id:Object(d.a)(),v:1,ts:Date.now(),event:e.event,bool1:e.customBoolean1,int1:e.customInt1,int2:e.customInt2,int3:e.customInt3,string1:e.customString1,string2:e.customString2,string3:e.customString3}}function a(e){var t=u(e);chrome.runtime.sendMessage({request:"sendAnalyticsEvent",event:t})}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=u(e);x(n,t)}t.b=a,t.c=c,n.d(t,"a",function(){return x});var s=n(4),f=n.n(s),l=n(9),d=n(6),p=n(12),h=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),m="windows",v="linux",g="mac_os",w="ios",b="android",y=function(){var e=window.navigator.appVersion;return e.includes("Win")?m:e.includes("iPhone OS")?w:e.includes("Mac")?g:e.includes("Android")?b:e.includes("X11")||e.includes("Linux")?v:null}(),x=function(){var e=r(f.a.mark(function e(t){var n,r,o,u,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.b(a.noSync);case 2:return n=e.sent,r=i(t,n),console.log("Track "+r.event,r),e.next=7,fetch("https://analytics.smallpdf.com/v2/events",{method:"POST",body:JSON.stringify([r])});case 7:return o=e.sent,e.next=10,o.json();case 10:if(u=e.sent,u.success){e.next=13;break}throw new Error(u.error);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},8:function(e,t,n){"use strict";n.d(t,"e",function(){return r}),n.d(t,"v",function(){return o}),n.d(t,"g",function(){return i}),n.d(t,"h",function(){return u}),n.d(t,"f",function(){return a}),n.d(t,"m",function(){return c}),n.d(t,"l",function(){return s}),n.d(t,"n",function(){return f}),n.d(t,"a",function(){return l}),n.d(t,"b",function(){return d}),n.d(t,"d",function(){return p}),n.d(t,"c",function(){return h}),n.d(t,"j",function(){return m}),n.d(t,"k",function(){return v}),n.d(t,"i",function(){return g}),n.d(t,"q",function(){return w}),n.d(t,"t",function(){return b}),n.d(t,"s",function(){return y}),n.d(t,"r",function(){return x}),n.d(t,"z",function(){return k}),n.d(t,"w",function(){return _}),n.d(t,"K",function(){return j}),n.d(t,"H",function(){return P}),n.d(t,"F",function(){return O}),n.d(t,"L",function(){return S}),n.d(t,"G",function(){return E}),n.d(t,"A",function(){return L}),n.d(t,"I",function(){return I}),n.d(t,"J",function(){return R}),n.d(t,"x",function(){return A}),n.d(t,"y",function(){return D}),n.d(t,"B",function(){return T}),n.d(t,"E",function(){return N}),n.d(t,"D",function(){return M}),n.d(t,"C",function(){return q}),n.d(t,"u",function(){return U}),n.d(t,"p",function(){return F}),n.d(t,"o",function(){return G});var r=function(){return{event:"chrome.extension.installed"}},o=function(e){return{event:"chrome.background.upload_failed",customString1:e}},i=function(e){return{event:"chrome.notification.created",customString1:e}},u=function(e){return{event:"chrome.notification.seen",customString1:e}},a=function(e){return{event:"chrome.notification.cta_clicked",customString1:e}},c=function(e,t){return{event:"chrome.pdfium.button_seen",customBoolean1:t,customString1:e}},s=function(){return{event:"chrome.pdfium.button_clicked"}},f=function(e,t){return{event:"chrome.pdfium.tool_clicked",customString1:e,customString2:t}},l=function(){return{event:"chrome.browser_action.popup_seen"}},d=function(e){return{event:"chrome.browser_action.search_used",customString1:e}},p=function(e){return{event:"chrome.browser_action.tool_clicked",customString1:e}},h=function(){return{event:"chrome.browser_action.smallpdf_apps_clicked"}},m=function(e,t){return{event:"chrome.options.page_seen",customBoolean1:e,customString1:"gmailOff",customString2:t?"serpOn":"serpOff"}},v=function(e){return{event:"chrome.options.serp_toggled",customString1:e?"serpOn":"serpOff"}},g=function(){return{event:"chrome.options.to_settings"}},w=function(e,t){return{event:"chrome.serp.droparea_seen",customString1:e,customString2:t}},b=function(e,t){return{event:"chrome.serp.hide_clicked",customString1:e,customString2:t}},y=function(e,t){return{event:"chrome.serp.files_added",customString1:e,customInt1:t}},x=function(e){return{event:"chrome.serp.file_uploaded",customString1:e}},k=function(e){return{event:"chrome.viewer.document_loaded",customInt1:e}},_=function(e){return{event:"chrome.viewer.annotations_loaded",customInt1:e}},j=function(e){return{event:"chrome.viewer.page_seen",customString1:e}},P=function(e){return{event:"chrome.viewer.password_entered",customInt1:e}},O=function(){return{event:"chrome.viewer.logo_clicked"}},S=function(e,t){return{event:"chrome.viewer.tool_clicked",customString1:e,customString2:t}},E=function(){return{event:"chrome.viewer.menu_clicked"}},L=function(e){return{event:"chrome.viewer.download_clicked",customString1:e}},I=function(e){return{event:"chrome.viewer.print_triggered",customString1:e}},R=function(e){return{event:"chrome.viewer.search_triggered",customString1:e}},A=function(e){return{event:"chrome.viewer.control_triggered",customString1:e}},D=function(e){return{event:"chrome.viewer.document_load_failed",customString1:e}},T=function(){return{event:"chrome.viewer.error_file_selected"}},N=function(){return{event:"chrome.viewer.file_scheme_seen"}},M=function(){return{event:"chrome.viewer.file_scheme_options_clicked"}},q=function(){return{event:"chrome.viewer.file_scheme_file_selected"}},U=function(){return{event:"chrome.onboarding.installation.thanks_page_seen"}},F=function(){return{event:"chrome.onboarding.installation.pin_popup_seen"}},G=function(){return{event:"chrome.onboarding.installation.pin_popup_closed"}}},9:function(e,t,n){"use strict";function r(){var e=chrome.i18n.getUILanguage();switch(e){case"pt-BR":return a.p;case"zh-CN":return a.w;case"zh-TW":return a.x;case"ja":case"ko":case"ar":case"da":case"de":case"en":case"es":case"fr":case"hi":case"id":case"it":case"ms-MY":case"nb":case"nl":case"pl":case"ru":case"sv":case"th":case"tr":case"uk":case"vi":return e;default:return a.d}}function o(){var e=r();switch(e){case a.w:return"cn";case a.x:return"zh-TW";case a.j:return"jp";case a.k:return"kr";case a.a:case a.b:case a.c:case a.d:case a.e:case a.f:case a.g:case a.h:case a.i:case a.l:case a.m:case a.n:case a.o:case a.p:case a.q:case a.r:case a.s:case a.t:case a.u:case a.v:return e;default:throw new Error}}function i(e,t,n){var r=n?/\{\{\s*([^}]+)\s*\}\}/g:/\{([^({|})]+)\}/g;return e.replace(r,function(e,n){var r=n.trim();if(t&&t[r]){var o=t[r];if("string"===typeof o||"number"===typeof o)return""+o}return e})}function u(e,t){var n=chrome.i18n.getMessage(e);return n?t?i(n,t):n:"\u2717"+e.toUpperCase()}t.c=r,t.b=o,t.d=u;var a=n(15);n.d(t,"a",function(){return a.d})},95:function(e,t,n){"use strict";function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(o,i){try{var u=t[o](i),a=u.value}catch(e){return void n(e)}if(!u.done)return Promise.resolve(a).then(function(e){r("next",e)},function(e){r("throw",e)});e(a)}return r("next")})}}function o(e,t){var n=this;chrome.windows.get(t.windowId,function(){var o=r(u.a.mark(function r(o){var i;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!o.focused||!t.highlighted){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,a.q(a.a,t);case 4:i=e?f.success:f.error,s.b(s.a,i);case 6:case"end":return n.stop()}},r,n)}));return function(e){return o.apply(this,arguments)}}())}n.d(t,"b",function(){return l}),t.a=o;var i=n(4),u=n.n(i),a=n(10),c=n(22),s=n(63),f={success:{title:chrome.i18n.getMessage("fileIsReady"),message:chrome.i18n.getMessage("downloadCta")},error:{title:chrome.i18n.getMessage("processingFailedTitle"),message:chrome.i18n.getMessage("processingFailedMessage")}},l=function(){var e=r(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.m(a.a);case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return");case 5:c.a(t),a.o(a.a);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}});